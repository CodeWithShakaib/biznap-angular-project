<div class="w-100">
  <div class="page-layout">
    <div *ngIf="isLoading" class="h-100">
      <div class="loader" fxLayout="row" fxLayoutAlign="center center">
        <app-loader size="2" [isLoading]="true"></app-loader>
      </div>
    </div>

    <div *ngIf="!isLoading">
      <!-- CARDS  -->
      <div
        fxLayout="row"
        fxLayout.md="column"
        fxLayout.sm="column"
        fxLayout.xs="column"
        fxLayoutAlign="space-around center"
        fxLayoutGap="10px"
        class="mt-5"
      >
        <div>
          <mat-card class="custom-mat-card">
            <mat-card-header>
              <mat-card-title>
                <img class="users-icon" src="/assets/images/user.png" alt="" />
                <p class="d-inline">
                  <b>Users</b>
                </p>
              </mat-card-title>
            </mat-card-header>

            <mat-card-content>
              <div class="description">Total Users: {{ userData?.length }}</div>
            </mat-card-content>
          </mat-card>
        </div>

        <div>
          <mat-card class="custom-mat-card">
            <mat-card-header>
              <mat-card-title>
                <img class="users-icon" src="/assets/images/fieldworkers.png" alt="" />
                <p class="d-inline">
                  <b>Fieldworkers</b>
                </p>
              </mat-card-title>
            </mat-card-header>

            <mat-card-content>
              <div class="description">Total Fieldworkers: {{ fieldworkersData?.length }}</div>
            </mat-card-content>
          </mat-card>
        </div>

        <div>
          <mat-card class="custom-mat-card">
            <mat-card-header>
              <mat-card-title>
                <img class="users-icon" src="/assets/images/shop.png" alt="" />
                <p class="d-inline">
                  <b>Shops</b>
                </p>
              </mat-card-title>
            </mat-card-header>

            <mat-card-content>
              <div class="description">Total Fieldworkers: {{ shopsData?.length }}</div>
            </mat-card-content>
          </mat-card>
        </div>

        <div>
          <mat-card class="custom-mat-card">
            <mat-card-header>
              <mat-card-title>
                <img class="users-icon" src="/assets/images/ads.png" alt="" />
                <p class="d-inline">
                  <b>Ads</b>
                </p>
              </mat-card-title>
            </mat-card-header>

            <mat-card-content>
              <div class="description">Total Fieldworkers: {{ adsData?.length }}</div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>

      <!-- CHARTS  -->
      <div
        fxLayout="row"
        fxLayout.md="column"
        fxLayout.sm="column"
        fxLayout.xs="column"
        fxLayoutAlign="space-between"
        class="mt-3"
      >
        <div class="border border-1 bg-white p-2">
          <h2>Shops</h2>
          <ngx-charts-advanced-pie-chart
            [view]="view"
            [scheme]="shopscolorScheme"
            [results]="shopsChartData"
            [gradient]="gradient"
            (select)="onshopSelect($event)"
            (activate)="onshopActivate($event)"
            (deactivate)="onshopDeactivate($event)"
          >
          </ngx-charts-advanced-pie-chart>
        </div>

        <div class="border border-1 bg-white p-2">
          <h2>Ads</h2>
          <ngx-charts-advanced-pie-chart
            [view]="view"
            [scheme]="adscolorScheme"
            [results]="adsChartData"
            [gradient]="gradient"
            (select)="onshopSelect($event)"
            (activate)="onshopActivate($event)"
            (deactivate)="onshopDeactivate($event)"
          >
          </ngx-charts-advanced-pie-chart>
        </div>
      </div>
    </div>
  </div>
</div>
